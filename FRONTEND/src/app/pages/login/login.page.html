<ion-content class="login-bg">


  <div class="login-wrapper">
    <!-- 📦 Cápsula principal -->
    <div class="login-card">

      <!-- 🟢 Título principal -->
      <h1 class="login-title">
        INICIAR SESIÓN
      </h1>

      <!-- ⚠️ Mensaje de error si existe -->
      <div *ngIf="mensajeError" class="mensaje-error">
        {{ mensajeError }}
      </div>

      <!-- 📨 Campo Correo con etiqueta arriba -->
      <div class="input-group">
        <label for="correo" class="input-label">Correo electrónico</label>
        <ion-input
          id="correo"
          type="email"
          placeholder="Correo electrónico"
          [(ngModel)]="correo"
          class="login-input input-white"
          fill="solid">
        </ion-input>
      </div>

      <!-- 🔒 Campo Clave con etiqueta arriba -->
      <div class="input-group input-group-password">
        <label for="clave" class="input-label">Contraseña</label>
        <div class="input-password-wrapper">
          <ion-input
            id="clave"
            [type]="showPassword ? 'text' : 'password'"
            placeholder="Contraseña"
            [(ngModel)]="clave"
            class="login-input input-white"
            fill="solid">
          </ion-input>
          <button type="button" class="btn-ojo" (click)="togglePassword()" tabindex="-1">
            <svg *ngIf="!showPassword" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#4CAF50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="12" rx="9" ry="5"/><circle cx="12" cy="12" r="2"/></svg>
            <svg *ngIf="showPassword" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#4CAF50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="12" rx="9" ry="5"/><circle cx="12" cy="12" r="2"/><line x1="2" y1="2" x2="22" y2="22"/></svg>
          </button>
        </div>
      </div>

      <!-- Enlace para recuperar contraseña -->
      <div class="olvide-contrasena-link">
        <a routerLink="/recuperar-contrasena">¿Olvidaste tu contraseña?</a>
      </div>

      <!-- 🔘 Botón iniciar sesión -->
      <div class="login-btn-center">
        <button type="button" (click)="login()" class="btn-grande btn-login-nativo"
          [disabled]="isLoginDisabled()">
          INICIAR SESIÓN
        </button>
      </div>

      <!-- 🆕 Enlace para registro -->
      <div class="registro-link">
        ¿No tienes cuenta?
        <a routerLink="/crear-cliente">Regístrate</a>
      </div>

    </div>
  </div>

  <div *ngIf="showRegistroExito" [ngClass]="registroExitoTipo === 'success' ? 'registro-exito-msg' : 'registro-error-msg'">
    {{ registroExitoMsg }}
  </div>
</ion-content>
